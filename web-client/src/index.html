<!-- <!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>WebClient</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
 <app-root-layout></app-root-layout>
</body>
</html> -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>WebClient</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <!-- Font hacker -->
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Nền matrix -->
  <canvas id="matrix-bg"></canvas>
  <!-- Scanline overlay -->
  <div class="scanlines"></div>

  <!-- Ứng dụng Angular -->
  <app-root-layout></app-root-layout>

  <!-- Ticker hacker chạy dưới cùng -->
  <div class="ticker-bar">
    <div class="ticker-track">
      <span>[SYSTEM] REMOTE_OPS // V5.1_FIXED</span>
      <span>[REGISTRY] ONLINE AGENTS MONITORING...</span>
      <span>[NETWORK] ENCRYPTION: AES-256 | TRANSPORT: WEBSOCKET</span>
      <span>[WARNING] UNAUTHORIZED ACCESS IS STRICTLY PROHIBITED</span>
      <span>[STATUS] IDLE — WAITING FOR COMMANDS...</span>
    </div>
  </div>

  <script>
    // =============== MATRIX BACKGROUND ===============
    (function () {
      const canvas = document.getElementById('matrix-bg');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');

      let width = window.innerWidth;
      let height = window.innerHeight;

      function resize() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
        columns = Math.floor(width / fontSize);
        drops = Array(columns).fill(1);
      }

      const fontSize = 16;
      let columns = Math.floor(width / fontSize);
      let drops = Array(columns).fill(1);
      const chars = '01#@$%&*+-/';

      function draw() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
        ctx.fillRect(0, 0, width, height);

        ctx.fillStyle = '#00ff41';
        ctx.font = fontSize + 'px "Share Tech Mono", monospace';

        for (let i = 0; i < drops.length; i++) {
          const text = chars.charAt(Math.floor(Math.random() * chars.length));
          const x = i * fontSize;
          const y = drops[i] * fontSize;

          ctx.fillText(text, x, y);

          if (y > height && Math.random() > 0.975) {
            drops[i] = 0;
          }
          drops[i]++;
        }
        requestAnimationFrame(draw);
      }

      window.addEventListener('resize', resize);
      resize();
      requestAnimationFrame(draw);
    })();

    // =============== NETWORK WAVE (nếu có canvas #netwave) ===============
    (function () {
      function initWave() {
        const canvas = document.getElementById('netwave');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        let w = canvas.clientWidth;
        let h = canvas.clientHeight;
        canvas.width = w;
        canvas.height = h;

        let t = 0;
        function render() {
          ctx.clearRect(0, 0, w, h);
          ctx.strokeStyle = '#00ff41';
          ctx.lineWidth = 2;
          ctx.beginPath();

          for (let x = 0; x < w; x++) {
            const y = h / 2 + Math.sin((x + t) * 0.05) * (h / 3) * Math.sin(t * 0.03);
            if (x === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.stroke();
          t += 2;
          requestAnimationFrame(render);
        }
        render();
      }

      // chạy lại mỗi 1s để nếu chuyển trang Angular thì nó vẫn bắt được canvas mới
      setInterval(initWave, 1000);
      initWave();
    })();
  </script>
</body>
</html>

