<!-- <style>
  body {
    background: linear-gradient(to bottom right, #f8fafc, #eef2ff);
  }

  .page {
    max-width: 1100px;
    margin: 40px auto;
    padding: 0 16px;
    font-family: system-ui, sans-serif;
    animation: fadeIn 0.4s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .header {
    text-align: center;
    margin-bottom: 34px;
  }

  .header h1 {
    font-size: 34px;
    font-weight: 700;
    color: #111827;
  }

  .header .tagline {
    color: #6b7280;
    font-size: 14px;
    margin-top: -4px;
  }

  .card {
    background: #ffffff;
    padding: 20px;
    border-radius: 16px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 8px 24px rgba(0,0,0,0.06);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
    font-size: 14px;
  }

  th {
    background: #f9fafb;
    padding: 12px;
    border-bottom: 1px solid #e5e7eb;
    text-align: left;
    font-weight: 600;
  }

  td {
    padding: 12px;
    border-bottom: 1px solid #f1f1f1;
  }

  tr:hover {
    background: #f3f8ff;
    transition: 0.2s ease;
  }

  .pill-online {
    color: #16a34a;
    font-weight: 600;
  }

  .pill-offline {
    color: #9ca3af;
    font-weight: 600;
  }

  .btn {
    padding: 6px 14px;
    background: #2563eb;
    border: none;
    color: white;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
  }

  .btn:disabled {
    background: #9ca3af;
    cursor: not-allowed;
  }

  .os-pill {
    display: flex;
    align-items: center;
    gap: 6px;
    text-transform: capitalize;
  }

  .os-pill img {
    width: 16px;
    height: 16px;
  }
</style>

<div class="page">

  <div class="header">
    <h1>Danh s√°ch Agents</h1>
    <p class="tagline">Ch·ªçn Agent ƒë·ªÉ ƒëi·ªÅu khi·ªÉn v√† g·ª≠i l·ªánh WebSocket.</p>
  </div>

  <div class="card">

    <table>
      <thead>
        <tr>
          <th>Machine ID</th>
          <th>IP</th>
          <th>OS</th>
          <th>WS Port</th>
          <th>Online</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let a of agents()">
          <td>{{ a.machineId }}</td>
          <td>{{ a.ip }}</td>

          <td>
            <span class="os-pill">
              <img [src]="
                  a.os === 'windows' ? 'assets/icons/windows.svg' :
                  a.os === 'linux' ? 'assets/icons/linux.svg' :
                  'assets/icons/mac.svg'
              ">
              {{ a.os }}
            </span>
          </td>

          <td>{{ a.wsPort }}</td>

          <td>
            <span [ngClass]="a.online ? 'pill-online' : 'pill-offline'">
              ‚óè {{ a.online ? 'Online' : 'Offline' }}
            </span>
          </td>

          <td>
            <button
              class="btn"
              (click)="connectToAgent(a)"
              [disabled]="!a.online"
            >
              K·∫øt n·ªëi
            </button>
          </td>
        </tr>
      </tbody>

    </table>

  </div>
</div> -->

<div class="page">

  <!-- <div class="header">
    <div class="header-left">
      <h1 class="header-title">DANH S√ÅCH AGENTS</h1>
      <p class="tagline">Ch·ªçn Agent ƒë·ªÉ ƒëi·ªÅu khi·ªÉn v√† g·ª≠i l·ªánh WebSocket.</p>
    </div> -->

    <!-- D√£y s√≥ng NETWORK_TRAFFIC -->
    <!-- <div class="header-wave">
      <canvas id="netwave"></canvas>
      <div class="header-wave-label">NETWORK_TRAFFIC</div>
    </div>
  </div> -->
  <!-- <div class="traffic-wrapper">
    <div class="header-wave-label">NETWORK_TRAFFIC</div>
    <div class="header-wave">
        <canvas id="netwave"></canvas>
    </div>
</div> -->
  <div class="header">

  <div class="header-left">
    <h1 class="header-title">DANH S√ÅCH AGENTS</h1>
    <p class="tagline">Ch·ªçn Agent ƒë·ªÉ ƒëi·ªÅu khi·ªÉn v√† g·ª≠i l·ªánh WebSocket.</p>
  </div>

  <!-- ƒê·∫∑t s√≥ng NGAY TRONG header -->
  <div class="traffic-wrapper">
      <div class="header-wave-label">NETWORK_TRAFFIC</div>
      <div class="header-wave">
          <canvas id="netwave"></canvas>
      </div>
  </div>

</div> <!-- ƒë√∫ng v·ªã tr√≠ ƒë√≥ng header -->

  <section class="card">

    <table>
      <thead>
        <tr>
          <th>MACHINE ID</th>
          <th>IP</th>
          <th>OS</th>
          <th>WS PORT</th>
          <th>ONLINE</th>
          <th>ACTIONS</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let a of agents()">
          <td>{{ a.machineId }}</td>
          <td>{{ a.ip }}</td>

          <td>
            <span class="os-pill">
              <img [src]="
                  a.os === 'windows' ? 'assets/icons/windows.svg' :
                  a.os === 'linux' ? 'assets/icons/linux.svg' :
                  'assets/icons/mac.svg'
              ">
              {{ a.os }}
            </span>
          </td>

          <td>{{ a.wsPort }}</td>

          <td>
            <span class="status-pill" [ngClass]="a.online ? 'pill-online' : 'pill-offline'">
              ‚óè {{ a.online ? 'Online' : 'Offline' }}
            </span>
          </td>

          <td>
            <button
              class="btn"
              (click)="connectToAgent(a)"
              [disabled]="!a.online"
            >
              K·∫øt n·ªëi
            </button>
          </td>
        </tr>
      </tbody>

    </table>

  </section>
</div>



<!-- <style>
  body {
    background: linear-gradient(to bottom, #f9fafb, #eef2ff);
  }

  .page {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 16px;
    font-family: system-ui, sans-serif;
  }

  .page h1 {
    text-align: center;
    font-size: 32px;
    margin-bottom: 6px;
  }

  .subtitle {
    text-align: center;
    color: #6b7280;
    margin-bottom: 24px;
    font-size: 14px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
  }

  .card {
    background: #fff;
    border-radius: 16px;
    padding: 18px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 8px 24px rgba(0,0,0,0.05);
    animation: fadeIn 0.3s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(6px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .machine-id {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 6px;
    color: #111827;
  }

  .info-line {
    font-size: 14px;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .status-online {
    color: #16a34a;
    font-weight: 600;
  }

  .status-offline {
    color: #9ca3af;
    font-weight: 600;
  }

  .btn {
    margin-top: 12px;
    padding: 8px 14px;
    border-radius: 8px;
    background: #2563eb;
    border: none;
    color: white;
    font-weight: 500;
    cursor: pointer;
    width: 100%;
  }

  .btn:disabled {
    background: #9ca3af;
  }
</style>

<div class="page">
  <h1>Danh s√°ch Agents</h1>
  <div class="subtitle">Ch·ªçn Agent ƒë·ªÉ ƒëi·ªÅu khi·ªÉn v√† g·ª≠i l·ªánh WebSocket.</div>

  <div class="grid">

    <div class="card" *ngFor="let a of agents()">

      <div class="machine-id">{{ a.machineId }}</div>

      <div class="info-line">üìç {{ a.ip }}</div>
      <div class="info-line">üíª OS: {{ a.os }}</div>
      <div class="info-line">üîå Port: {{ a.wsPort }}</div>

      <div
        class="info-line"
        [ngClass]="a.online ? 'status-online' : 'status-offline'"
      >
        ‚óè {{ a.online ? 'Online' : 'Offline' }}
      </div>

      <button
        class="btn"
        (click)="connectToAgent(a)"
        [disabled]="!a.online"
      >K·∫øt n·ªëi</button>

    </div>

  </div>
</div> -->
